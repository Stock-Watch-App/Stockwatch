@import (reference) "./_variables.less";
@import (reference) "./_mixins.less";

.leaderboard-wrap {
    grid-column: ~"1/-1";
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(3, min-content);

    .leaderboard-badge {
        width: 35px;
        height: 35px;
        margin: 0 0.5rem;
    }

    h3 {
        grid-column: ~"1/-1";
        grid-row: ~"1/2";
    }

    .leader-overflow {
        overflow-x: auto;
    }

    .leader-grid {
        grid-column: ~"1/-1";
        display: grid;

        input {
            place-self: flex-start;
        }
    }

    .table-wrap {
        overflow-x: auto;
        max-height: 100vh;
    }

    .media(@min-desktop, {

        h3 {
            grid-column: ~"1/6"; 
            grid-row: ~"1/2";
        } 
        
        .alltime-leader-title {
            grid-column: ~"2/8" ;
        } 
        
        .leader-grid {
            grid-row: ~"2/3"; 
            
            &.alltime-leader {
                grid-column: ~"2/8";
            }
        }
    });
}

.leaderboard-table {
    table-layout: auto;
    border-collapse: collapse;
    width: 100%;

    th,
    td,
    tr {
        .px-rem-padding(8, 16, 8, 16);
        vertical-align: middle;
    }

    // this looks crazy to get around the z-index levels
    tr,
    td {
        &:hover {
            tr,
            td {
                background-color: @gray-barely;
            }
        }
    }

    tr {
        border-bottom: 1px solid @gray-barely;
        text-align: center;
    }

    thead {
        .font-unit-rem(14);
        background-color: @gray-barely;
    }

    th {
        position: sticky;
        top: 0;
        z-index: 2;
        background-color: @gray-barely;

        &.user-row-head {
            text-align: left;
            position: sticky;
            left: 0;
            z-index: 4; // topiest top
        }
    }

    td {
        z-index: 3;

        &.user-row {
            position: sticky;
            left: 0;
            z-index: 1;
        }
    }

    .rank-sort {
        min-width: 85px;
    }

    .networth {
        font-variation-settings: @base-font-weight-bold;
    }

    .user-row {
        display: flex;
        flex-direction: row;
        align-items: center;
        border: none;
        background-color: @white;

        span:not(.tag) {
            .px-rem(margin-right, 8);
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            max-width: 180px;
            text-align: left;
        }

        .leaderboard-avatar {
            .px-rem(margin-right, 8);
        }
    }

    .hg-img-table {
        width: 30px;
        height: 30px;
        border: solid 1px @border;
        vertical-align: middle;
        border-radius: @border-radius;
    }

    .rank-num {
        cursor: pointer;
        display: inline-block;
        width: 1.5em;
        height: 1.5em;
        line-height: 1.5;
        text-align: center;
        font-style: normal;
        border-radius: 50%;
        font-variation-settings: @base-font-weight-bold;
        .font-unit-rem(16);
    }

    .rank-1 {
        background-color: @gold;
        color: @black;
    }

    .rank-2 {
        background-color: @silver;
        color: @black;
    }

    .rank-3 {
        background-color: @bronze;
        color: @black;
    }
    
}

.pagination {
    display: flex;
    flex-direction: row;
    margin-bottom: 2rem;
    .font-unit-rem(14);
}

.page-item {
    &.active {
        .page-link {
            background-color: @link;
            color: @white;
            cursor: not-allowed;
        }
    }

    &:not(.active):not(.disabled) {
        .page-link:hover {
            background-color: @gray-barely;
        }
    }

    &.disabled {
        .page-link {
            background-color: @disabled-bg;
            color: @disabled-text;
        }
    }

    &:first-child,
    &:last-child {
        .page-link {
            color: @black;
        }
    }

    .page-link {
        position: relative;
        display: block;
        padding: 4px 8px;
        line-height: 1.25;
        color: @link;
        background-color: @white;
        margin-right: 8px;

        svg {
            vertical-align: middle;
            width: 0.5rem;
        }
    }
}
